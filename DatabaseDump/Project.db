-- MySQL dump 10.14  Distrib 5.5.52-MariaDB, for Linux (x86_64)
--
-- Host: localhost    Database: Project
-- ------------------------------------------------------
-- Server version	5.5.52-MariaDB

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `Category`
--

DROP TABLE IF EXISTS `Category`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Category` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(30) NOT NULL,
  `description` blob NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `creatorid` int(11) unsigned DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `creatoid` (`creatorid`),
  CONSTRAINT `creatoid` FOREIGN KEY (`creatorid`) REFERENCES `User` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Category`
--

LOCK TABLES `Category` WRITE;
/*!40000 ALTER TABLE `Category` DISABLE KEYS */;
INSERT INTO `Category` VALUES (1,'aj','sfdfsdfds','2017-03-08 17:47:08',31),(3,'tech','descdfdfd','2017-03-09 19:29:30',31),(4,'soft','descdfdfd','2017-03-09 19:30:28',31),(5,'new','descdfdfd','2017-03-09 19:30:48',31);
/*!40000 ALTER TABLE `Category` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Comment`
--

DROP TABLE IF EXISTS `Comment`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Comment` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `body` blob NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `creatorid` int(11) unsigned NOT NULL,
  `materialid` int(11) unsigned NOT NULL,
  PRIMARY KEY (`id`),
  KEY `comcreatoid` (`creatorid`),
  KEY `materialcommentid` (`materialid`),
  CONSTRAINT `comcreatoid` FOREIGN KEY (`creatorid`) REFERENCES `User` (`id`) ON DELETE CASCADE,
  CONSTRAINT `materialcommentid` FOREIGN KEY (`materialid`) REFERENCES `Material` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=51 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Comment`
--

LOCK TABLES `Comment` WRITE;
/*!40000 ALTER TABLE `Comment` DISABLE KEYS */;
INSERT INTO `Comment` VALUES (1,'heeeeeeeeeeey','2017-03-10 19:27:12',31,3),(2,'MAAAAAAAAAY','2017-03-10 19:27:19',31,3),(14,'fsdsdfsdf','2017-03-11 08:11:11',53,3),(15,'sfsdf','2017-03-11 08:12:55',53,3),(16,'dss','2017-03-11 08:13:17',53,3),(17,'sdsd','2017-03-11 08:14:02',53,3),(18,'kek','2017-03-11 08:15:07',53,3),(35,'hw','2017-03-11 20:43:31',53,3),(42,'sdfsdf','2017-03-11 22:30:40',53,3),(43,'dfsdf','2017-03-11 22:30:42',53,3),(44,'x','2017-03-12 00:33:18',53,3),(45,'berry\n','2017-03-12 00:33:44',53,5),(46,'ghfhg','2017-03-12 00:38:29',53,5),(47,'ghjfhgfhg','2017-03-12 00:39:02',53,6),(48,'fngffffffffffffffffffffffffffffff','2017-03-12 00:39:08',53,8),(49,'gjhgjh','2017-03-12 00:39:11',53,8),(50,'llllllllllllllllllllllll','2017-03-12 00:39:22',53,10);
/*!40000 ALTER TABLE `Comment` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Course`
--

DROP TABLE IF EXISTS `Course`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Course` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(30) NOT NULL,
  `description` blob NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `creatorid` int(11) unsigned DEFAULT NULL,
  `categoryid` int(11) unsigned NOT NULL,
  PRIMARY KEY (`id`),
  KEY `coursecreatorf` (`creatorid`),
  KEY `coursecategoryf` (`categoryid`),
  CONSTRAINT `coursecategoryf` FOREIGN KEY (`categoryid`) REFERENCES `Category` (`id`) ON DELETE CASCADE,
  CONSTRAINT `coursecreatorf` FOREIGN KEY (`creatorid`) REFERENCES `User` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Course`
--

LOCK TABLES `Course` WRITE;
/*!40000 ALTER TABLE `Course` DISABLE KEYS */;
INSERT INTO `Course` VALUES (1,'java','descdfdfd','2017-03-09 19:33:25',31,3),(2,'php','descdfdfd','2017-03-09 19:33:57',31,3),(3,'nodejs','descdfdfd','2017-03-09 19:34:13',31,3);
/*!40000 ALTER TABLE `Course` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Course_Type`
--

DROP TABLE IF EXISTS `Course_Type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Course_Type` (
  `courseid` int(11) unsigned NOT NULL DEFAULT '0',
  `typeid` int(11) unsigned NOT NULL DEFAULT '0',
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`courseid`,`typeid`),
  KEY `cttyidf` (`typeid`),
  CONSTRAINT `ctcoidf` FOREIGN KEY (`courseid`) REFERENCES `Course` (`id`) ON DELETE CASCADE,
  CONSTRAINT `cttyidf` FOREIGN KEY (`typeid`) REFERENCES `Type` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Course_Type`
--

LOCK TABLES `Course_Type` WRITE;
/*!40000 ALTER TABLE `Course_Type` DISABLE KEYS */;
INSERT INTO `Course_Type` VALUES (1,2,'2017-03-10 20:38:16'),(1,3,'2017-03-10 20:38:16');
/*!40000 ALTER TABLE `Course_Type` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Material`
--

DROP TABLE IF EXISTS `Material`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Material` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(30) NOT NULL,
  `description` blob NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `path` varchar(160) NOT NULL,
  `creatorid` int(11) unsigned DEFAULT NULL,
  `courseid` int(11) unsigned NOT NULL,
  `typeid` int(11) unsigned NOT NULL,
  `downloadable` tinyint(1) NOT NULL DEFAULT '1',
  `viewable` tinyint(1) NOT NULL DEFAULT '1',
  `downloadtimes` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `matcoidf` (`courseid`),
  KEY `mattyidf` (`typeid`),
  KEY `matusidf` (`creatorid`),
  CONSTRAINT `matcoidf` FOREIGN KEY (`courseid`) REFERENCES `Course` (`id`) ON DELETE CASCADE,
  CONSTRAINT `mattyidf` FOREIGN KEY (`typeid`) REFERENCES `Type` (`id`) ON DELETE CASCADE,
  CONSTRAINT `matusidf` FOREIGN KEY (`creatorid`) REFERENCES `User` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=28 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Material`
--

LOCK TABLES `Material` WRITE;
/*!40000 ALTER TABLE `Material` DISABLE KEYS */;
INSERT INTO `Material` VALUES (3,'book','lololol','2017-03-10 19:14:24','/lms/k.jpg',31,1,3,1,1,4),(5,'lol','lololol','2017-03-10 19:14:50','/lms/10.pdf',31,2,2,1,1,0),(6,'hfhg','hghghmnb','2017-03-12 00:38:41','',53,2,1,1,1,0),(7,'hfhg','hghghmnb','2017-03-12 00:38:44','',53,2,1,1,1,0),(8,'hfhg','hghghmnb','2017-03-12 00:38:44','',53,2,1,1,1,0),(9,'hfhg','hghghmnb','2017-03-12 00:38:44','',53,2,1,1,1,0),(10,'hfhg','hghghmnb','2017-03-12 00:38:44','',53,2,1,1,1,0),(11,'hfhg','hghghmnb','2017-03-12 00:38:45','',53,2,1,1,1,0),(12,'afdsd','fsdf','2017-03-12 07:37:15','/lms/uploads/40891489304235b5cbed784fb93e57925a2939da1710fcjpg',53,2,1,1,1,0),(13,'sfsdf','fsdfs','2017-03-12 07:37:55','',53,2,1,1,1,1),(14,'sdf','fsdfsd','2017-03-12 07:39:00','',53,2,1,1,1,0),(15,'fsdfsdf','fsdfsd','2017-03-12 07:39:39','/lms/uploads/400614893043796cb8f6e9d265535cb7ce8bfffb21f139.jpg',53,2,1,1,1,1),(25,'dfs','sdfsdf','2017-03-12 07:51:38','/lms/uploads/35511489305098b5cbed784fb93e57925a2939da1710fc.jpg',53,1,3,1,1,0);
/*!40000 ALTER TABLE `Material` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Request`
--

DROP TABLE IF EXISTS `Request`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Request` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(30) NOT NULL,
  `body` blob NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `creatorid` int(11) unsigned NOT NULL,
  `type` tinyint(1) NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`),
  KEY `matusidf` (`creatorid`),
  CONSTRAINT `requsidf` FOREIGN KEY (`creatorid`) REFERENCES `User` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Request`
--

LOCK TABLES `Request` WRITE;
/*!40000 ALTER TABLE `Request` DISABLE KEYS */;
INSERT INTO `Request` VALUES (1,'sfd','fsdsf','2017-03-11 18:04:21',53,0),(2,'sdf','fsdfsdf','2017-03-11 18:04:34',53,0),(3,'dsf','fsdf','2017-03-11 18:04:45',53,1),(4,'hatal','dafsdfsdfsd','2017-03-11 18:05:42',53,1),(5,'LOLOLOLO','ytttttttttttt','2017-03-12 00:39:52',53,0),(6,'Hellp','kdgskdfhgkfdhkjgd','2017-03-12 07:52:43',53,0);
/*!40000 ALTER TABLE `Request` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Type`
--

DROP TABLE IF EXISTS `Type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Type` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(30) NOT NULL,
  `extension` varchar(20) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Type`
--

LOCK TABLES `Type` WRITE;
/*!40000 ALTER TABLE `Type` DISABLE KEYS */;
INSERT INTO `Type` VALUES (1,'image','.jpg'),(2,'PDF','.pdf'),(3,'JPG','.jpg');
/*!40000 ALTER TABLE `Type` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `User`
--

DROP TABLE IF EXISTS `User`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `User` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(30) NOT NULL,
  `email` varchar(50) NOT NULL,
  `signature` varchar(100) DEFAULT NULL,
  `picture` varchar(100) DEFAULT NULL,
  `password` varchar(65) NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `state` tinyint(1) NOT NULL DEFAULT '1',
  `banstart` datetime DEFAULT NULL,
  `banend` datetime DEFAULT NULL,
  `type` int(11) unsigned NOT NULL DEFAULT '1',
  `gender` tinyint(1) DEFAULT NULL,
  `country` varchar(30) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `email` (`email`)
) ENGINE=InnoDB AUTO_INCREMENT=54 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `User`
--

LOCK TABLES `User` WRITE;
/*!40000 ALTER TABLE `User` DISABLE KEYS */;
INSERT INTO `User` VALUES (31,'ahmedddd','eedd',NULL,NULL,'12','2017-03-10 17:50:59',1,NULL,NULL,0,0,NULL),(39,'kl','k@f.m',NULL,NULL,'123','2017-03-09 15:12:43',1,NULL,NULL,0,0,NULL),(40,'kkkkkkk','k@k.kll.l',NULL,NULL,'123','2017-03-09 14:24:52',1,NULL,NULL,0,0,NULL),(41,'lkkl','l@l.l',NULL,NULL,'123','2017-03-09 14:43:08',1,NULL,NULL,1,0,NULL),(42,'a','a@a.a',NULL,NULL,'123','2017-03-08 20:18:10',1,NULL,NULL,1,0,NULL),(43,'m','m@m.m',NULL,NULL,'$2y$10$R2RVQoiFslRTQFtU7Z9W6OzVzcpN7smBA0iHm9biAh21kAxz8Wrki','2017-03-09 17:07:59',1,NULL,NULL,0,0,NULL),(46,'p','p@p.p',NULL,NULL,'$2y$10$QOa0nE3EUszRagi5VZU/Pe8pHvRxM7KS0iJ1MhiX8sq.S07KaJVFW','2017-03-08 20:34:06',1,NULL,NULL,1,0,NULL),(48,'nm','n@n.n',NULL,NULL,'$2y$10$UvWn5aStE4Lo9s3ZPxHyV.7riM4ZcsstZVY/7lws7TtXDpmxGeiqu','2017-03-09 14:18:18',1,NULL,NULL,0,0,NULL),(49,'mn','m@l.c',NULL,NULL,'$2y$10$dGD7eJ/xWN1c8s4nH0bfC.DMNc34b/jJttxJcOYqUJVU9hNiEmcMq','2017-03-09 14:05:31',1,NULL,NULL,1,0,NULL),(50,'admin','admin@admin.com',NULL,NULL,'$2y$10$jiRNB5VC8ypasZPRsL8KNeDIjRMagI17aYi69f9x096pHl18xj.NO','2017-03-08 21:00:53',1,NULL,NULL,1,0,NULL),(53,'m','m@m',NULL,NULL,'$2y$10$Juuf/ZFhsIc7HY/h13T1u.Cm4h4xk5NtH8H5SgHoTh3x7BKVMlLkm','2017-03-09 17:07:59',1,NULL,NULL,0,0,NULL);
/*!40000 ALTER TABLE `User` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2017-03-12 17:52:23
